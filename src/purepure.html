<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <div>
        <div id='title'></div>
        <div id='content'></div>
    </div>
</body>
<script>
    let appState = {
        title: {
            text: '我是一个单纯的redux',
            color: 'red',
        },
        content: {
            text: 'redux是一个很强悍的状态管理工具',
            color: 'blue'
        }
    }

    function dispatch(action) {
        switch (action.type) {
            case 'UPDATE_TITLE_TEXT':
                appState.title.text = action.text
                break
            case 'UPDATE_TITLE_COLOR':
                appState.title.color = action.color
                break
            default:
                break
        }
    }

    function renderApp(appState) {
        renderTitle(appState.title)
        renderContent(appState.content)
    }

    function renderTitle(title) {
        const titleDOM = document.getElementById('title')
        titleDOM.innerHTML = title.text
        titleDOM.style.color = title.color
    }

    function renderContent(content) {
        const contentDOM = document.getElementById('content')
        contentDOM.innerHTML = content.text
        contentDOM.style.color = content.color
    }

    renderApp(appState) // 首次渲染页面
    dispatch({
        type: 'UPDATE_TITLE_TEXT',
        text: '希望你会喜欢redux'
    }) // 修改标题文本
    dispatch({
        type: 'UPDATE_TITLE_COLOR',
        color: 'blue'
    }) // 修改标题颜色
    renderApp(appState) // 把新的数据渲染到页面上
</script>

</html>